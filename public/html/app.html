<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--Copyright 2014-2015 Alex Benfaremo, Alessandro Chelli, Lorenzo Di Berardino, Matteo Di Sabatino-->

<!---------------------------------- LICENSE -------------------------------
-									 -
- This file is part of ApioOS.						 -
-									 -
- ApioOS is free software released under the GPLv2 license: you can	 -
- redistribute it and/or modify it under the terms of the GNU General	 -
- Public License version 2 as published by the Free Software Foundation. -
-									 -
- ApioOS is distributed in the hope that it will be useful, but		 -
- WITHOUT ANY WARRANTY; without even the implied warranty of		 -
- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the		 -
- GNU General Public License version 2 for more details.		 -
-									 -
- To read the license either open the file COPYING.txt or		 -
- visit <http://www.gnu.org/licenses/gpl2.txt>				 -
-									 -
-------------------------------------------------------------------------->


<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <link rel="shortcut icon" type="image/x-icon" href="public/apio_assets/img/favicon.ico"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=0.45, minimum-scale=0, maximum-scale=1">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="yes" />
        <title>APIO</title>
        <link rel="apple-touch-icon" href="html/apple-touch-icon.png"/>
		<link rel="apple-touch-icon-precomposed" href="html/apple-touch-icon.png"/>
        <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="/stylesheets/pulsanti.css"/>
        <link rel="stylesheet" href="/stylesheets/app.css"/>
        <link rel="stylesheet" type="text/css" href="/bower_components/bootstrap-sweetalert/lib/sweet-alert.css">
    </head>
    <body>
    <script>
    if(!window.navigator.standalone){
    };
    </script>
        <div id="targetBody" ng-app="ApioApplication" ng-controller="ApioMainController">
            <nav id="apioMenu" class="navbar navbar-default navbar-fixed-top" role="navigation">
                <div class="container-fluid">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <h5 class="menuTitle">{{currentPage}}</h5>
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#apioBarCollapseContainer">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        </button>
                    </div>
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse">
                         <ul class="nav navbar-nav apioApplicationNavbar">
                            <li><a href="#/home" >Home</a></li>
                            <li><a href="#/wall" >Wall</a></li>
                            <li><a href="#/events" >Events</a></li>
                            <li><a id="notificationTrigger" >Notifications</a></li>
                        </ul>
                        </div><!-- /.navbar-collapse -->
                        </div><!-- /.container-fluid -->
                    </nav>
                    <nav id="apioMenuMobile" class="navbar center navbar-default navbar-fixed-top" role="navigation">
                        <div class="container-fluid">
                            <ul class="nav navbar-nav apioApplicationNavbar">
                            <li><a href="#/home" >Home</a></li>
                            <li><a href="#/wall" >Bacheca</a></li>
                            <li><a href="#/events" >Eventi</a></li>
                            <li><a id="notificationTrigger_mobile">Notifiche</a></li>
                        </ul>
                        </div>
                    </nav>
                    <div class="systemAppContainer">
                        <div class="app-content" style="padding-top:25px;">
<style>
@media (min-width: 320px) and (max-width: 600px){
    #notificationsCenter{
        position: absolute;
        left: 0px;
        right: 0px;
        bottom: 0px;
        top: 50px;
        background-color: black;
        color: white;
        display: none;
        z-index: 1045;
        overflow-y: scroll;
    }

    .more_notification_{
        width: 105px;
        height: 105px;
        line-height: 100px;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
        padding: 0;
        border-radius: 2000px;
        border: solid 1px rgb(88, 170, 220);
        font-size: 35px;
    }

    .notifica{
        -webkit-overflow-scrolling: touch;
        -webkit-user-drag: none;
        height: 130px;
        width: 98%;
        padding-top: 15px;
        overflow-y: hidden;
        overflow-x: auto;
        display: block;
        padding-bottom: 0px;
        padding-left: 12px;
        margin-left: 20px;
    }

    .notifycontainer{}

    .notifymassage{
        -webkit-transition: all 0.4s ease 0s;
        transition: all 0.4s ease 0s;
        font-family: sans-serif;
        font-size: 35px;
        height: 90px;
        display: table-caption !important;
        float: left;
        list-style: none;
        width: 66%;
        margin-right: 20px;
        margin-top: -15px;

    }

    .notifytimestamp{
        -webkit-transition: all 0.4s ease 0s;
        transition: all 0.4s ease 0s;
        font-family: sans-serif;
        display: table-caption !important;
        float: left;
        list-style: none;
        font-size: 20px !important;
        margin-right: 85%;
        height: 10px;
        margin-left: -68.5%;
        margin-top: 2%
    }

    .notifypublishbutton{
        background-color: rgba(30, 208, 55, 0.82);
        width: 50%;
        text-align: center;
        color: #fff;
        position: absolute;
        height: 160px !important;
        margin-top: -80px;
        line-height: 160px;
        font-size: 30px;
        -webkit-transform: translateX(100%);
    }

    .notifyenablebutton{
        background-color: rgba(30, 208, 55, 0.82);
        width: 50%;
        text-align: center;
        color: #fff;
        position: absolute;
        height: 160px !important;
        margin-top: -80px;
        line-height: 160px;
        font-size: 30px;
        -webkit-transform: translateX(100%);
    }

    .notifydisablebutton{
        background-color: #CC2929;
        width: 50%;
        text-align: center;
        color: #fff;
        position: absolute;
        height: 160px !important;
        margin-top: -80px;
        line-height: 160px;
        font-size: 30px;
    }

    .showdisabled{
        -webkit-transform: rotate(45deg);
        color: #ff0000;
        border: solid 1px #fff;
    }
}
@media (min-width: 601px) and (max-width: 1000px){
    #notificationsCenter{
        position: absolute;
        left: 0px;
        right: 0px;
        bottom: 0px;
        top: 50px;
        background-color: black;
        color: white;
        display: none;
        z-index: 1045;
        overflow-y: scroll;
    }

    .more_notification_{
        width: 105px;
        height: 105px;
        line-height: 100px;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
        padding: 0;
        border-radius: 2000px;
        border: solid 1px rgb(88, 170, 220);
        font-size: 35px;
    }

    .notifica{
        -webkit-overflow-scrolling: touch;
        -webkit-user-drag: none;
        height: 130px;
        width: 98%;
        padding-top: 15px;
        overflow-y: hidden;
        overflow-x: auto;
        display: block;
        padding-bottom: 0px;
        padding-left: 12px;
        margin-left: 20px;
    }

    .notifycontainer{}

    .notifymassage{
        -webkit-transition: all 0.4s ease 0s;
        transition: all 0.4s ease 0s;
        font-family: sans-serif;
        font-size: 35px;
        height: 90px;
        display: table-caption !important;
        float: left;
        list-style: none;
        width: 66%;
        margin-right: 20px;
        margin-top: -15px;
    }

    .notifytimestamp {
        -webkit-transition: all 0.4s ease 0s;
        transition: all 0.4s ease 0s;
        font-family: sans-serif;
        display: table-caption !important;
        float: left;
        list-style: none;
        font-size: 20px !important;
        margin-right: 85%;
        height: 10px;
        margin-left: -68.5%;
        margin-top: 2%
    }

    .notifypublishbutton{
        background-color: rgba(30, 208, 55, 0.82);
        width: 50%;
        text-align: center;
        color: #fff;
        position: absolute;
        height: 160px !important;
        margin-top: -80px;
        line-height: 160px;
        font-size: 30px;
        -webkit-transform: translateX(100%);
    }

    .notifyenablebutton{
        background-color: rgba(30, 208, 55, 0.82);
        width: 50%;
        text-align: center;
        color: #fff;
        position: absolute;
        height: 160px !important;
        margin-top: -80px;
        line-height: 160px;
        font-size: 30px;
        -webkit-transform: translateX(100%);
    }

    .notifydisablebutton{
        background-color: #CC2929;
        width: 50%;
        text-align: center;
        color: #fff;
        position: absolute;
        height: 160px !important;
        margin-top: -80px;
        line-height: 160px;
        font-size: 30px;
    }

    .showdisabled{
        -webkit-transform: rotate(45deg);
        color: #ff0000;
        border: solid 1px #fff;
    }
}
@media (min-width: 1001px){
    #notificationsCenter{
        position: absolute;
        left: 0px;
        right: 0px;
        bottom: 0px;
        top: 50px;
        background-color: black;
        color: white;
        display: none;
        z-index: 1045;
        overflow-y: scroll;
    }

    .more_notification_{
        margin: 0;
        text-align: center;
        padding: 0;
        width: 86px;
        height: 86px;
        line-height: 86px;
        border-radius: 2000px;
        border: solid 1px rgb(88, 170, 220);
        margin-left: auto;
        margin-right: auto;
    }

    .notifica{
        display: inline-table;
        width: 23%;
        margin-right: 1%;
        margin-top: 1%;
    }

    .notifycontainer{
        padding-left: 9%;
    }

    .notifymassage{
        line-height: 100%;
        margin-bottom: 5%;
        width: 55%;
        float: left;
        font-size: 15px;
    }

    .notifytimestamp{
        line-height: 100%;
        margin-bottom: 5%;
        width: 40%;
        float: right;
        font-size: 15px;
    }

    .notifypublishbutton{
        background-color: rgba(30, 208, 55, 0.82);
        padding: 6px 12px;
        margin-bottom: 0;
        font-size: 14px;
        font-weight: 400;
        line-height: 1.42857143;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        -ms-touch-action: manipulation;
        touch-action: manipulation;
        cursor: pointer;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background-image: none;
        border: 1px solid transparent;
    }

    .notifyenablebutton{
        background-color: rgba(30, 208, 55, 0.82);
        padding: 6px 12px;
        margin-bottom: 0;
        font-size: 14px;
        font-weight: 400;
        line-height: 1.42857143;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        -ms-touch-action: manipulation;
        touch-action: manipulation;
        cursor: pointer;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background-image: none;
        border: 1px solid transparent;
        margin-left: 35%;
    }

    .notifydisablebutton{
        color: #fff;
        background-color: #d9534f;
        border-color: #d43f3a;
        padding: 6px 12px;
        margin-bottom: 0;
        font-size: 14px;
        font-weight: 400;
        line-height: 1.42857143;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        -ms-touch-action: manipulation;
        touch-action: manipulation;
        cursor: pointer;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background-image: none;
        border: 1px solid transparent;
    }

    .showdisabled{
        -webkit-transform: rotate(45deg);
        color: #ff0000;
        border: solid 1px #fff;
    }
}
</style>
                            <div id="notificationsCenter" ng-controller="ApioNotificationController">
                                <div id="more_notificationinput" class="more_notification_" ng-click="toggleShowDisabled()" ng-class="{'showdisabled' : showDisabled}"><span id="more_notificationspan">+</span></div>
                                <div class="notifica" ng-repeat="n in notifications" ng-click="markAsRead(n)" ng-show="!showDisabled">
                                    <div class="box_proprietaiPhone notifycontainer">
                                        <div class="notifymassage">{{n.message}}</div>
                                        <div class="notifytimestamp">{{getTimeFromTimestamp(n.timestamp)}}</div>
                                        <button class="notifypublishbutton" ng-click="publishNotify(n)">Pubblica In Bacheca</button>
                                        <button class="notifydisablebutton" ng-click="disableNotify(n)">Disabilita</button>
                                    </div>
                                </div>

                                <div class="notifica" ng-repeat="n in disabledNotifications" ng-show="showDisabled">
                                    <div class="box_proprietaiPhone notifycontainer">
                                        <div class="notifymassage">{{n.message}}</div>
                                        <div class="notifytimestamp">{{getTimeFromTimestamp(n.timestamp)}}</div>
                                        <button class="notifyenablebutton" ng-click="enableNotify(n)">Abilita</button>
                                    </div>
                                </div>
                            </div>

                            <div ng-view></div>

                        </div> <!-- /appcontent -->

                    </div>

                </div> <!-- fine app -->

                <div id="ApioApplicationContainer" class="dynamicPanel" style=""></div>
            </body>



            <script src="/javascripts/socket.io.js"></script>
            <script src="/bower_components/angular/angular.js"></script>
            <script src="/bower_components/later/later.js"></script>
            <!--<script src="/bower_components/q/q.js"></script>-->
            <script src="/bower_components/angular-route/angular-route.js"></script>
            <script src="/bower_components/hammerjs/hammer.js"></script>

            <!--<script src="/bower_components/angular-gestures/gestures.js"></script>-->
            <script src="/bower_components/jquery/dist/jquery.js"></script>
            <script src="/bower_components/jqueryui/jquery-ui.js"></script>
            <script src="/bower_components/angular-bootstrap/ui-bootstrap.min.js"></script>
            <script src="/bower_components/angular-css-injector/angular-css-injector.js"></script>
            <!--<script src="javascripts/xml2json.js"></script>-->
            <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/bower_components/bootstrap-sweetalert/lib/sweet-alert.js"></script>
    <script type="text/javascript" src="/bower_components/angular-h-sweetalert/dist/ngSweetAlert.js"></script>
    <script type="text/javascript" src="/javascripts/x2js-v1.1.5/xml2json.js"></script>
            <!--<script src="/bower_components/mobile-angular-ui/dist/js/mobile-angular-ui.js"></script>-->
            <script src="javascripts/app.apio.bundle.js"></script>
            <script src="systemApps/home/home.controller.js"></script>
            <script src="systemApps/wall/wall.controller.js"></script>
            <script src="systemApps/notifications/notifications.controller.js"></script>
            <script src="systemApps/events/events.controller.js"></script>
            <!--<script src="javascripts/draggabilly.pkgd.min.js"></script>-->
            <script src="/javascripts/jquery-cron/cron/jquery-cron.js"></script>
            <script src="apioProperties/Trigger/trigger.js"></script>
            <script src="apioProperties/Slider/slider.js"></script>
            <script src="apioProperties/List/list.js"></script>
            <script src="apioProperties/Text/text.js"></script>
            <script src="apioProperties/Number/number.js"></script>
            <script src="apioProperties/ApioButton/apiobutton.js"></script>
            <script src="apioProperties/Sensor/sensor.js"></script>
            <script src="apioProperties/DynamicView/dynamicview.js"></script>
            <script src="apioProperties/Property/property.js"></script>
            <script src="apioProperties/AsyncDisplay/asyncdisplay.js"></script>
            <script src="systemApps/topAppApplication/topAppApplication.js"></script>
</html>
